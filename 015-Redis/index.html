<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="å…­ä¸ªå‘¨çš„åšå®¢"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="å…­ä¸ªå‘¨"><meta name="twitter:creator" content="@liugezhou"><meta name="twitter:title" content="Redis"><meta name="twitter:description" content="&lt;p&gt;&lt;font color=blue&gt;æ›´æ–°è¯´æ˜ï¼šå¯¹æ–‡ç« æ’ç‰ˆä»¥åŠå†…å®¹æ ¼å¼åšäº†è°ƒæ•´ã€‚&lt;/font&gt;&lt;br&gt;
&lt;font color=blue&gt; æ›´æ–°æ—¶é—´ï¼š2022-05-04&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;NoSql = Not Only SQL&lt;/li&gt;
&lt;li&gt;Key - Value å­˜å‚¨ï¼šå­—ç¬¦ä¸² Stringï½œå­—ç¬¦ä¸²åˆ—è¡¨ listï½œæœ‰åºé›†åˆ sorted setï½œhashï½œå­—ç¬¦ä¸²é›†åˆset&lt;/li&gt;
&lt;li&gt;09å¹´å¼€å‘å®Œæˆ&lt;/li&gt;
&lt;li&gt;Cè¯­è¨€å¼€å‘&lt;/li&gt;
&lt;li&gt;æ¯ç§’èƒ½å†™8.1ä¸‡æ¬¡ï¼Œèƒ½è¯»11ä¸‡æ¬¡&lt;/li&gt;
&lt;li&gt;åº”ç”¨åœºæ™¯ï¼šç¼“å­˜ã€ä»»åŠ¡é˜Ÿåˆ—ã€ç½‘ç«™è®¿é—®ç»Ÿè®¡ã€åº”ç”¨æ’è¡Œæ¦œã€æ•°æ®è¿‡æœŸå¤„ç†ï¼Œåˆ†å¸ƒå¼é›†ç¾¤é‡Œçš„sessionå¤„ç†&lt;/li&gt;
&lt;li&gt;CentOs-6.5 å®‰è£…ï¼š
&lt;ul&gt;
&lt;li&gt;ä¸‹è½½æºç åï¼Œå¯¹æºç è¿›è¡Œç¼–è¯‘ï¼Œ&lt;em&gt;&lt;strong&gt;ç¼–è¯‘éœ€è¦ä¸€ä¸ªgccç¯å¢ƒ&lt;/strong&gt;&lt;/em&gt;ã€‚yum install gcc-c++&lt;/li&gt;
&lt;li&gt;å°†ä¸‹è½½å¥½çš„æºç ä¸Šä¼ è‡³æœåŠ¡å™¨ /rootä¸‹&lt;/li&gt;
&lt;li&gt;tar -zxvf redis-x.x.x.tar.gz&lt;/li&gt;
&lt;li&gt;cd  redis-x.x.x&lt;/li&gt;
&lt;li&gt;make&lt;/li&gt;
&lt;li&gt;make PREFIX=/usr/local/redis install&lt;/li&gt;
&lt;li&gt;cd /usr/local/redis/bin --å­˜åœ¨ä¸€äº›å¯æ‰§è¡Œæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;cd ~/redis.x.x.x&lt;/li&gt;
&lt;li&gt;cp redis.conf /usr/local/redis&lt;/li&gt;
&lt;li&gt;cd /usr/local/redis/bin&lt;/li&gt;
&lt;li&gt;å‰ç«¯å¯åŠ¨ï¼š&lt;em&gt;&lt;strong&gt;redis-server&lt;/strong&gt;&lt;/em&gt;(çª—å£ä¸èƒ½å…³é—­)&lt;/li&gt;
&lt;li&gt;åç«¯å¯åŠ¨ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;vim redis.conf&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹ daemonize yes&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;redis-server redis.conf&lt;/em&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;éªŒè¯å¯åŠ¨ï¼šps -ef | grep redis&lt;/li&gt;
&lt;li&gt;åœæ­¢å¯åŠ¨ï¼škill -9 PID  ||  redis-cli shutdown&lt;/li&gt;
&lt;li&gt;è¿›å…¥å‘½ä»¤è¡Œäº¤äº’ï¼š&lt;strong&gt;_redis-cli _&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Jedis:Jedisæ˜¯Rediså®˜æ–¹é¦–å…ˆçš„Javaå®¢æˆ·ç«¯å¼€å‘åŒ…&lt;/li&gt;
&lt;li&gt;Keyä¸è¦è¿‡é•¿â€“ä¸å»ºè®®è¶…è¿‡1024&lt;/li&gt;
&lt;li&gt;å­˜å‚¨Stringï¼š
&lt;ul&gt;
&lt;li&gt;ä»¥äºŒè¿›åˆ¶æ–¹å¼æ“ä½œ&lt;/li&gt;
&lt;li&gt;å…¶valueæ•°æ®é•¿åº¦æœ€å¤šä¸è¶…è¿‡512M&lt;/li&gt;
&lt;li&gt;èµ‹å€¼**_ set_&lt;strong&gt;ã€å–å€¼&lt;/strong&gt;_ get_&lt;strong&gt;ã€åˆ å€¼ &lt;em&gt;&lt;strong&gt;del&lt;/strong&gt;&lt;/em&gt;ã€&lt;/strong&gt;&lt;em&gt;inc&lt;/em&gt;&lt;strong&gt;r numã€&lt;/strong&gt;&lt;em&gt;incrby&lt;/em&gt;** num 5ã€&lt;strong&gt;&lt;em&gt;append&lt;/em&gt;&lt;/strong&gt; num 5&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å­˜å‚¨Hashï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;String Keyå’ŒString Valueçš„mapå®¹å™¨&lt;/li&gt;
&lt;li&gt;æ¯ä¸€ä¸ªHashå¯ä»¥å­˜å‚¨4294967268ä¸ªé”®å€¼å¯¹&lt;/li&gt;
&lt;li&gt;èµ‹å€¼**&lt;em&gt;ï¼šhset&lt;/em&gt;** myhash username jack&lt;/li&gt;
&lt;li&gt;èµ‹å€¼ï¼š&lt;strong&gt;&lt;em&gt;hset&lt;/em&gt;&lt;/strong&gt; myhash age 18&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;_        hmset_&lt;/strong&gt; myhsh username roose age 21&lt;/li&gt;
&lt;li&gt;å–å€¼ï¼š&lt;strong&gt;&lt;em&gt;hget&lt;/em&gt;&lt;/strong&gt; myhash username ==&amp;gt; jack&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;_ hmget_&lt;/strong&gt; myhash username age&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;hgetall&lt;/em&gt;&lt;/strong&gt; myhash&lt;/li&gt;
&lt;li&gt;åˆ é™¤ä¸€ä¸ªï¼š&lt;strong&gt;&lt;em&gt;hdel&lt;/em&gt;&lt;/strong&gt; myhash username&lt;/li&gt;
&lt;li&gt;åˆ é™¤å…¨éƒ¨ï¼š&lt;strong&gt;&lt;em&gt;del&lt;/em&gt;&lt;/strong&gt; myhash&lt;/li&gt;
&lt;li&gt;å¢åŠ æ•°å­—ï¼š &lt;em&gt;&lt;strong&gt;hincrby&lt;/strong&gt;&lt;/em&gt; myhash age  5&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­å±æ€§ä¸­çš„æŸä¸ªå€¼æ˜¯å¦å­˜åœ¨ï¼š&lt;strong&gt;&lt;em&gt;hexists&lt;/em&gt;&lt;/strong&gt; myhash username&lt;/li&gt;
&lt;li&gt;è·å–å±æ€§æ•°é‡ ï¼š &lt;strong&gt;&lt;em&gt;hlen&lt;/em&gt;&lt;/strong&gt; myhash == 2&lt;/li&gt;
&lt;li&gt;è·å–æ‰€æœ‰å±æ€§åç§°ï¼š&lt;strong&gt;&lt;em&gt;hkeys&lt;/em&gt;&lt;/strong&gt; myhash&lt;/li&gt;
&lt;li&gt;è·å–æ‰€æœ‰å€¼ï¼š &lt;strong&gt;hvals&lt;/strong&gt; myhash&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;12&quot;&gt;
&lt;li&gt;å­˜å‚¨listï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ArrayListä½¿ç”¨æ•°ç»„æ–¹å¼ï¼š&lt;/li&gt;
&lt;li&gt;LinkedListä½¿ç”¨åŒå‘é“¾æ¥æ–¹å¼ï¼š&lt;/li&gt;
&lt;li&gt;åŒå‘é“¾è¡¨ä¸­å¢åŠ æ•°æ®&lt;/li&gt;
&lt;li&gt;åŒå‘é“¾è¡¨ä¸­åˆ é™¤æ•°æ®&lt;/li&gt;
&lt;li&gt;ä¸¤ç«¯æ·»åŠ ï¼š
&lt;ul&gt;
&lt;li&gt;lpush mylist a b c --&amp;gt; c,b,a&lt;/li&gt;
&lt;li&gt;lpush mylist 1 2 3 --&amp;gt; 3 2 1 c b a&lt;/li&gt;
&lt;li&gt;rpush mylist2 a b c&lt;/li&gt;
&lt;li&gt;rpush mylist2 1 2 3&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æŸ¥çœ‹åˆ—è¡¨:
&lt;ul&gt;
&lt;li&gt;lrange mylist  (start,end)&lt;/li&gt;
&lt;li&gt;lrange mylist 0 5 --&amp;gt; 3 2 1 c b a&lt;/li&gt;
&lt;li&gt;lrange mylist2 0 -2 a b c 1 2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸¤ç«¯å¼¹å‡ºï¼š
&lt;ul&gt;
&lt;li&gt;lpop mylist2 --&amp;gt; 3&lt;/li&gt;
&lt;li&gt;lrange mylish  --&amp;gt;2 1 c b a&lt;/li&gt;
&lt;li&gt;rpop mylist2 --&amp;gt; 3&lt;/li&gt;
&lt;li&gt;lrange mylist2 --&amp;gt; a b  c 1 2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·å–åˆ—è¡¨å…ƒç´ ä¸ªæ•°:
&lt;ul&gt;
&lt;li&gt;llen mylish  --&amp;gt;è¿”å›å…ƒç´ ä¸ªæ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ‰©å±•å‘½ä»¤
&lt;ul&gt;
&lt;li&gt;lpushx mylist2 (mylist2è¿™ä¸ªå€¼å­˜åœ¨æ‰ä¼šåœ¨å¤´éƒ¨æ’å…¥)&lt;/li&gt;
&lt;li&gt;lrem mylist2 2 3ï¼ˆä»å¤´å¼€å§‹åˆ é™¤2ä¸ª3ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;13&quot;&gt;
&lt;li&gt;å­˜å‚¨Setï¼šä¸å…è®¸å‡ºç°é‡å¤çš„å…ƒç´ &lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;æ·»åŠ å…ƒç´ 
&lt;ul&gt;
&lt;li&gt;sadd myset a b c&lt;/li&gt;
&lt;li&gt;sadd myset  1 2 3&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åˆ é™¤å…ƒç´ 
&lt;ul&gt;
&lt;li&gt;srem myset 1 2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·å¾—é›†åˆä¸­çš„å…ƒç´ 
&lt;ul&gt;
&lt;li&gt;smembers myset --&amp;gt; c b a 3&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨
&lt;ul&gt;
&lt;li&gt;sismember myset 3&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;14&quot;&gt;
&lt;li&gt;keysé€šç”¨æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;**keys ***&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;keys my?&lt;/strong&gt;  ï¼šæŸ¥çœ‹ä»¥myå¼€å¤´çš„key&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;del&lt;/strong&gt; my1 my2 my3 ï¼šåˆ é™¤è¿™äº›key&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;exists&lt;/strong&gt; my1   ï¼šæŸ¥çœ‹my1æ˜¯å¦å­˜åœ¨&lt;/li&gt;
&lt;li&gt;r&lt;strong&gt;ename&lt;/strong&gt; old new ï¼šé‡å‘½å&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;expire&lt;/strong&gt; newkey 1000 :è¿‡æœŸæ—¶é—´&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;type key&lt;/strong&gt;:æŸ¥çœ‹æŸä¸ªkeyçš„ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;15&quot;&gt;
&lt;li&gt;redisç‰¹æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å¤šæ•°æ®åº“
&lt;ul&gt;
&lt;li&gt;16ä¸ªæ•°æ®åº“ 0-15 ï¼ˆå®¢æˆ·ç«¯é»˜è®¤0ï¼‰&lt;/li&gt;
&lt;li&gt;select 1  â€” é€‰æ‹©1å·æ•°æ®åº“&lt;/li&gt;
&lt;li&gt;move key 2 ---- å°†1ä¸­çš„keyç§»åŠ¨åˆ°2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Redisäº‹åŠ¡
&lt;ul&gt;
&lt;li&gt;multi :å¼€å¯äº‹åŠ¡&lt;/li&gt;
&lt;li&gt;exec ï¼šæäº¤äº‹åŠ¡&lt;/li&gt;
&lt;li&gt;discardï¼šå›æ»šæ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;16&quot;&gt;
&lt;li&gt;redisçš„æŒä¹…åŒ–æ¦‚è¿°&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;RDBæŒä¹…åŒ–ï¼šé»˜è®¤æ”¯æŒä¸éœ€è¦é…ç½®ï¼šåœ¨æŒ‡å®šæ—¶é—´é—´éš”å†…ï¼Œå°†æ•°æ®å†™å…¥åˆ°ç£ç›˜
&lt;ul&gt;
&lt;li&gt;redis.conf: save 900 /save 300 10 /save 60 10000 (é»˜è®¤æ”¯æŒ)â€“å¯ä»¥æŸ¥çœ‹ä¿å­˜çš„è·¯å¾„åœ¨ &lt;strong&gt;dump.rdb&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;AOFæŒä¹…åŒ–
&lt;ul&gt;
&lt;li&gt;ä¼˜åŠ¿ï¼šæ›´é«˜çš„æ•°æ®å®‰å…¨â€“æ¯ä¸€æ¬¡å˜åŠ¨éƒ½ä¼šè®°å½•åˆ°ç£ç›˜ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;åŠ£åŠ¿ï¼šå†…å®¹æ–‡ä»¶å¤§ã€æ•ˆç‡ä½&lt;/li&gt;
&lt;li&gt;éœ€è¦è¿›è¡Œç›¸åº”é…ç½®â€“redi.conf ==&amp;gt;appendonly yes --&amp;gt;å†™å…¥åˆ°appendonly.aof&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ— æŒä¹…åŒ–&lt;/li&gt;
&lt;li&gt;åŒæ—¶ä½¿ç”¨RDBå’ŒAOF&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;17&quot;&gt;
&lt;li&gt;æœåŠ¡å™¨æŸ¥çœ‹redisè·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ps -ef | grep redis&lt;/li&gt;
&lt;li&gt;whereis  redis&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;18&quot;&gt;
&lt;li&gt;æŸ¥çœ‹æœ¬åœ°æ˜¯å¦å®‰è£…redisï¼šbrew info redis&lt;/li&gt;
&lt;li&gt;æ‰¹é‡åˆ é™¤æŸä¸ªè§„åˆ™çš„ redisKeyï¼š&lt;/li&gt;
&lt;li&gt;[root@node1 src]# ./redis-cli -h 127.0.0.1 -p 6379 keys â€œjava_suisui*â€ | xargs ./redis-cli -h 127.0.0.1 -p 6379 del&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
"><meta name="twitter:image"><title>Redis | å…­ä¸ªå‘¨</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.3"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement('script');
  hm.src = 'https://hm.baidu.com/hm.js?' + '912656f1f71687bc80e68bfc7315fc4c';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><div class="darkmode-toggle">ğŸŒ“</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Redis</h1><a id="logo" href="/.">å…­ä¸ªå‘¨</a><p class="description">ä¸€ä¸ªäººåªæœ‰ä¸€ç§å‘½è¿ï¼Œæ—©æ—¥ç›¸é‡ï¼Œå°½æƒ…æ‹¥æŠ±ã€‚</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a><a target="_blank" rel="noopener" href="https://www.travellings.cn/go.html"><i class="fa fa-subway"> å¼€å¾€</i></a><a href="/atom.xml"><i class="fa fa-rss"> è®¢é˜…</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Redis</h1><div class="post-meta">2021-06-01<span> | </span><span class="category"><a href="/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF/">æœåŠ¡ç«¯</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> é˜…è¯»</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 996</span><span class="post-meta-item-text"> å­—</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 4</span><span class="post-meta-item-text"> åˆ†é’Ÿ</span></span></span></div><a class="disqus-comment-count" href="/015-Redis/#vcomment"><span class="valine-comment-count" data-xid="/015-Redis/"></span><span> æ¡è¯„è®º</span></a><div class="post-content"><p><font color=blue>æ›´æ–°è¯´æ˜ï¼šå¯¹æ–‡ç« æ’ç‰ˆä»¥åŠå†…å®¹æ ¼å¼åšäº†è°ƒæ•´ã€‚</font><br>
<font color=blue> æ›´æ–°æ—¶é—´ï¼š2022-05-04</font></p>
<blockquote>
<ol>
<li>NoSql = Not Only SQL</li>
<li>Key - Value å­˜å‚¨ï¼šå­—ç¬¦ä¸² Stringï½œå­—ç¬¦ä¸²åˆ—è¡¨ listï½œæœ‰åºé›†åˆ sorted setï½œhashï½œå­—ç¬¦ä¸²é›†åˆset</li>
<li>09å¹´å¼€å‘å®Œæˆ</li>
<li>Cè¯­è¨€å¼€å‘</li>
<li>æ¯ç§’èƒ½å†™8.1ä¸‡æ¬¡ï¼Œèƒ½è¯»11ä¸‡æ¬¡</li>
<li>åº”ç”¨åœºæ™¯ï¼šç¼“å­˜ã€ä»»åŠ¡é˜Ÿåˆ—ã€ç½‘ç«™è®¿é—®ç»Ÿè®¡ã€åº”ç”¨æ’è¡Œæ¦œã€æ•°æ®è¿‡æœŸå¤„ç†ï¼Œåˆ†å¸ƒå¼é›†ç¾¤é‡Œçš„sessionå¤„ç†</li>
<li>CentOs-6.5 å®‰è£…ï¼š
<ul>
<li>ä¸‹è½½æºç åï¼Œå¯¹æºç è¿›è¡Œç¼–è¯‘ï¼Œ<em><strong>ç¼–è¯‘éœ€è¦ä¸€ä¸ªgccç¯å¢ƒ</strong></em>ã€‚yum install gcc-c++</li>
<li>å°†ä¸‹è½½å¥½çš„æºç ä¸Šä¼ è‡³æœåŠ¡å™¨ /rootä¸‹</li>
<li>tar -zxvf redis-x.x.x.tar.gz</li>
<li>cd  redis-x.x.x</li>
<li>make</li>
<li>make PREFIX=/usr/local/redis install</li>
<li>cd /usr/local/redis/bin --å­˜åœ¨ä¸€äº›å¯æ‰§è¡Œæ–‡ä»¶</li>
<li>cd ~/redis.x.x.x</li>
<li>cp redis.conf /usr/local/redis</li>
<li>cd /usr/local/redis/bin</li>
<li>å‰ç«¯å¯åŠ¨ï¼š<em><strong>redis-server</strong></em>(çª—å£ä¸èƒ½å…³é—­)</li>
<li>åç«¯å¯åŠ¨ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶</li>
<li>vim redis.conf</li>
<li>ä¿®æ”¹ daemonize yes</li>
<li><strong><em>redis-server redis.conf</em></strong></li>
<li>éªŒè¯å¯åŠ¨ï¼šps -ef | grep redis</li>
<li>åœæ­¢å¯åŠ¨ï¼škill -9 PID  ||  redis-cli shutdown</li>
<li>è¿›å…¥å‘½ä»¤è¡Œäº¤äº’ï¼š<strong>_redis-cli _</strong></li>
</ul>
</li>
<li>Jedis:Jedisæ˜¯Rediså®˜æ–¹é¦–å…ˆçš„Javaå®¢æˆ·ç«¯å¼€å‘åŒ…</li>
<li>Keyä¸è¦è¿‡é•¿â€“ä¸å»ºè®®è¶…è¿‡1024</li>
<li>å­˜å‚¨Stringï¼š
<ul>
<li>ä»¥äºŒè¿›åˆ¶æ–¹å¼æ“ä½œ</li>
<li>å…¶valueæ•°æ®é•¿åº¦æœ€å¤šä¸è¶…è¿‡512M</li>
<li>èµ‹å€¼**_ set_<strong>ã€å–å€¼</strong>_ get_<strong>ã€åˆ å€¼ <em><strong>del</strong></em>ã€</strong><em>inc</em><strong>r numã€</strong><em>incrby</em>** num 5ã€<strong><em>append</em></strong> num 5</li>
</ul>
</li>
<li>å­˜å‚¨Hashï¼š</li>
</ol>
<ul>
<li>String Keyå’ŒString Valueçš„mapå®¹å™¨</li>
<li>æ¯ä¸€ä¸ªHashå¯ä»¥å­˜å‚¨4294967268ä¸ªé”®å€¼å¯¹</li>
<li>èµ‹å€¼**<em>ï¼šhset</em>** myhash username jack</li>
<li>èµ‹å€¼ï¼š<strong><em>hset</em></strong> myhash age 18</li>
<li><strong>_        hmset_</strong> myhsh username roose age 21</li>
<li>å–å€¼ï¼š<strong><em>hget</em></strong> myhash username ==&gt; jack</li>
<li><strong>_ hmget_</strong> myhash username age</li>
<li><strong><em>hgetall</em></strong> myhash</li>
<li>åˆ é™¤ä¸€ä¸ªï¼š<strong><em>hdel</em></strong> myhash username</li>
<li>åˆ é™¤å…¨éƒ¨ï¼š<strong><em>del</em></strong> myhash</li>
<li>å¢åŠ æ•°å­—ï¼š <em><strong>hincrby</strong></em> myhash age  5</li>
<li>åˆ¤æ–­å±æ€§ä¸­çš„æŸä¸ªå€¼æ˜¯å¦å­˜åœ¨ï¼š<strong><em>hexists</em></strong> myhash username</li>
<li>è·å–å±æ€§æ•°é‡ ï¼š <strong><em>hlen</em></strong> myhash == 2</li>
<li>è·å–æ‰€æœ‰å±æ€§åç§°ï¼š<strong><em>hkeys</em></strong> myhash</li>
<li>è·å–æ‰€æœ‰å€¼ï¼š <strong>hvals</strong> myhash</li>
</ul>
<ol start="12">
<li>å­˜å‚¨listï¼š</li>
</ol>
<ul>
<li>ArrayListä½¿ç”¨æ•°ç»„æ–¹å¼ï¼š</li>
<li>LinkedListä½¿ç”¨åŒå‘é“¾æ¥æ–¹å¼ï¼š</li>
<li>åŒå‘é“¾è¡¨ä¸­å¢åŠ æ•°æ®</li>
<li>åŒå‘é“¾è¡¨ä¸­åˆ é™¤æ•°æ®</li>
<li>ä¸¤ç«¯æ·»åŠ ï¼š
<ul>
<li>lpush mylist a b c --&gt; c,b,a</li>
<li>lpush mylist 1 2 3 --&gt; 3 2 1 c b a</li>
<li>rpush mylist2 a b c</li>
<li>rpush mylist2 1 2 3</li>
<li></li>
</ul>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>æŸ¥çœ‹åˆ—è¡¨:
<ul>
<li>lrange mylist  (start,end)</li>
<li>lrange mylist 0 5 --&gt; 3 2 1 c b a</li>
<li>lrange mylist2 0 -2 a b c 1 2</li>
</ul>
</li>
<li>ä¸¤ç«¯å¼¹å‡ºï¼š
<ul>
<li>lpop mylist2 --&gt; 3</li>
<li>lrange mylish  --&gt;2 1 c b a</li>
<li>rpop mylist2 --&gt; 3</li>
<li>lrange mylist2 --&gt; a b  c 1 2</li>
</ul>
</li>
<li>è·å–åˆ—è¡¨å…ƒç´ ä¸ªæ•°:
<ul>
<li>llen mylish  --&gt;è¿”å›å…ƒç´ ä¸ªæ•°</li>
</ul>
</li>
<li>æ‰©å±•å‘½ä»¤
<ul>
<li>lpushx mylist2 (mylist2è¿™ä¸ªå€¼å­˜åœ¨æ‰ä¼šåœ¨å¤´éƒ¨æ’å…¥)</li>
<li>lrem mylist2 2 3ï¼ˆä»å¤´å¼€å§‹åˆ é™¤2ä¸ª3ï¼‰</li>
</ul>
</li>
</ul>
<ol start="13">
<li>å­˜å‚¨Setï¼šä¸å…è®¸å‡ºç°é‡å¤çš„å…ƒç´ </li>
</ol>
<ul>
<li>æ·»åŠ å…ƒç´ 
<ul>
<li>sadd myset a b c</li>
<li>sadd myset  1 2 3</li>
</ul>
</li>
<li>åˆ é™¤å…ƒç´ 
<ul>
<li>srem myset 1 2</li>
</ul>
</li>
<li>è·å¾—é›†åˆä¸­çš„å…ƒç´ 
<ul>
<li>smembers myset --&gt; c b a 3</li>
</ul>
</li>
<li>åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨
<ul>
<li>sismember myset 3</li>
</ul>
</li>
</ul>
<ol start="14">
<li>keysé€šç”¨æ“ä½œ</li>
</ol>
<ul>
<li>**keys ***</li>
<li><strong>keys my?</strong>  ï¼šæŸ¥çœ‹ä»¥myå¼€å¤´çš„key</li>
<li><strong>del</strong> my1 my2 my3 ï¼šåˆ é™¤è¿™äº›key</li>
<li><strong>exists</strong> my1   ï¼šæŸ¥çœ‹my1æ˜¯å¦å­˜åœ¨</li>
<li>r<strong>ename</strong> old new ï¼šé‡å‘½å</li>
<li><strong>expire</strong> newkey 1000 :è¿‡æœŸæ—¶é—´</li>
<li><strong>type key</strong>:æŸ¥çœ‹æŸä¸ªkeyçš„ç±»å‹</li>
</ul>
<ol start="15">
<li>redisç‰¹æ€§</li>
</ol>
<ul>
<li>å¤šæ•°æ®åº“
<ul>
<li>16ä¸ªæ•°æ®åº“ 0-15 ï¼ˆå®¢æˆ·ç«¯é»˜è®¤0ï¼‰</li>
<li>select 1  â€” é€‰æ‹©1å·æ•°æ®åº“</li>
<li>move key 2 ---- å°†1ä¸­çš„keyç§»åŠ¨åˆ°2</li>
</ul>
</li>
<li>Redisäº‹åŠ¡
<ul>
<li>multi :å¼€å¯äº‹åŠ¡</li>
<li>exec ï¼šæäº¤äº‹åŠ¡</li>
<li>discardï¼šå›æ»šæ“ä½œ</li>
</ul>
</li>
</ul>
<ol start="16">
<li>redisçš„æŒä¹…åŒ–æ¦‚è¿°</li>
</ol>
<ul>
<li>RDBæŒä¹…åŒ–ï¼šé»˜è®¤æ”¯æŒä¸éœ€è¦é…ç½®ï¼šåœ¨æŒ‡å®šæ—¶é—´é—´éš”å†…ï¼Œå°†æ•°æ®å†™å…¥åˆ°ç£ç›˜
<ul>
<li>redis.conf: save 900 /save 300 10 /save 60 10000 (é»˜è®¤æ”¯æŒ)â€“å¯ä»¥æŸ¥çœ‹ä¿å­˜çš„è·¯å¾„åœ¨ <strong>dump.rdb</strong></li>
</ul>
</li>
<li>AOFæŒä¹…åŒ–
<ul>
<li>ä¼˜åŠ¿ï¼šæ›´é«˜çš„æ•°æ®å®‰å…¨â€“æ¯ä¸€æ¬¡å˜åŠ¨éƒ½ä¼šè®°å½•åˆ°ç£ç›˜ä¸­ã€‚</li>
<li>åŠ£åŠ¿ï¼šå†…å®¹æ–‡ä»¶å¤§ã€æ•ˆç‡ä½</li>
<li>éœ€è¦è¿›è¡Œç›¸åº”é…ç½®â€“redi.conf ==&gt;appendonly yes --&gt;å†™å…¥åˆ°appendonly.aof</li>
</ul>
</li>
<li>æ— æŒä¹…åŒ–</li>
<li>åŒæ—¶ä½¿ç”¨RDBå’ŒAOF</li>
</ul>
<ol start="17">
<li>æœåŠ¡å™¨æŸ¥çœ‹redisè·¯å¾„</li>
</ol>
<ul>
<li>ps -ef | grep redis</li>
<li>whereis  redis</li>
</ul>
<ol start="18">
<li>æŸ¥çœ‹æœ¬åœ°æ˜¯å¦å®‰è£…redisï¼šbrew info redis</li>
<li>æ‰¹é‡åˆ é™¤æŸä¸ªè§„åˆ™çš„ redisKeyï¼š</li>
<li>[root@node1 src]# ./redis-cli -h 127.0.0.1 -p 6379 keys â€œjava_suisui*â€ | xargs ./redis-cli -h 127.0.0.1 -p 6379 del</li>
</ol>
</blockquote>
</div><div class="post-copyright"><script type="text/javascript" src="/js/copyright.js?v=1.0.3" successtext="å¤åˆ¶æˆåŠŸ!"></script><link rel="stylesheet" type="text/css" href="/css/copyright.css?v=1.0.3"><p><span>æœ¬æ–‡æ ‡é¢˜ï¼š</span>Redis</p><p><span>æ–‡ç« ä½œè€…ï¼š</span>å…­ä¸ªå‘¨</p><p><span>å‘å¸ƒæ—¶é—´ï¼š</span>2021-06-01</p><p><span>æœ€åæ›´æ–°ï¼š</span>2022-05-04</p><p><span>åŸå§‹é“¾æ¥ï¼š</span><a href="/015-Redis/">https://blog.liugezhou.online/015-Redis/</a><span class="copy-path"><i class="fa fa-clipboard" data-clipboard-text="https://blog.liugezhou.online/015-Redis/"></i></span></p><p><span>ç‰ˆæƒå£°æ˜ï¼š</span>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p></div><br><div class="tags"><a href="/tags/æœåŠ¡ç«¯"><i class="fa fa-tag">æœåŠ¡ç«¯</i></a></div><div class="post-nav"><a class="pre" href="/016-CentOS_Docker_Nginx_Node_Jenkins/">CentOS_Docker_Nginx_Node_Jenkins</a><a class="next" href="/014-IDEA%20%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90mapper/">IDEA è‡ªåŠ¨ç”Ÿæˆmapper</a></div><div id="vcomment"></div><script src="//code.bdstatic.com/npm/leancloud-storage@4.12.0/dist/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == 'true' ? true : false;
var verify = 'false' == 'true' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'Ci6gl5SnXOdXxv9BTlQx3T2F-gzGzoHsz',
  appKey:'bWsfs1hg9qURRp3gJ6SJU41x',
  placeholder:'ãƒ¾ï¾‰â‰§âˆ€â‰¦)oæ¥å•Šï¼Œå¿«æ´»å•Š!',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10'
})
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> æ–‡ç« åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Web3/">Web3</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web%E6%9E%B6%E6%9E%84%E4%B9%8B%E8%84%9A%E6%89%8B%E6%9E%B6/">Webæ¶æ„ä¹‹è„šæ‰‹æ¶</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E5%B0%8F%E6%8A%80/">å‰ç«¯å°æŠ€</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">åšå®¢æ­å»º</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF/">æœåŠ¡ç«¯</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%AF%8F%E5%91%A8%E5%B0%8F%E7%BB%93/">æ¯å‘¨å°ç»“</a><span class="category-list-count">60</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/">æµè§ˆå™¨å·¥ä½œåŸç†</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BB%E4%B9%A6/">è¯»ä¹¦</a><span class="category-list-count">6</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> å…¶å®ƒä¸»é¡µ</i></div><ul></ul><a href="https://github.com/liugezhou" title="GitHub" target="_blank">GitHub</a><ul></ul><a href="https://twitter.com/liugezhou" title="Twitter" target="_blank">Twitter</a><ul></ul><a href="https://chat.liugezhou.online" title="è‡ªå®šä¹‰GPT" target="_blank">è‡ªå®šä¹‰GPT</a><ul></ul><a href="https://day.liugezhou.online" title="ä»Šæ—¥å‰ç«¯" target="_blank">ä»Šæ—¥å‰ç«¯</a><ul></ul><a href="https://run.liugezhou.online" title="Running" target="_blank">Running</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2024 <a href="/." rel="nofollow">å…­ä¸ªå‘¨.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"></a><a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.3" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.3" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.3"><script type="text/javascript" src="/js/search.js?v=1.0.3"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/love.js?v=1.0.3"></script><script type="text/javascript" src="/js/copycode.js?v=1.0.3" successtext="å¤åˆ¶æˆåŠŸ!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.3"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.3"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.3"></script></div></body></html>