---
layout: post
title: 一文学会vim
date: 2022-08-31
toc: true
category:
    服务端
tags:
    vim
---
学会一个软技能，总结一篇文章就够了。  
剩下要做的就是不停的练习，不停的尝试，本文是在学习[这个仓库](https://github.com/wsdjeg/Learn-Vim_zh_cn)之后的极简总结中。 
主要是作为使用一个备忘录。   

长期更新。。。
![vim](https://cdn.staticaly.com/gh/liugezhou/image@master/blog/blog-vim.webp)

<!--more-->
### 一、Vim基础介绍

1. `vim`           看到一个介绍页面
2. `i`              进入编辑模式
3. `:`              光标将移动到屏幕底部，在这里您可以输入命令
4. `Esc`            切回普通模式  
5. `:quit`          退出编辑模式,简写为:q     
6. `:write `        保存模式，简写为:w    
7. `:w file.md`      如果是新建的一个没有名字的文件，可以以fileName为名字保存文件  
9. `:wq`            保存退出  
10. `:q!`           不保存修改而强制退出。  
11. `:h`            在冒号模式下，输入 :h quit 然后按Tab键就会自动打出命令。  
12. `:vim f1 f2`    通过vim命令在不同的buffers中打开多个文件  
13. `vim --version`  '+'表示支持的特性，'-'表示不支持的特性  
14. `vim +%s hello/liugezhou/g file `  这条命令的意思是 打开file文件将文档中所有的hello改为liugezhou  
15. `vim -o2`       水平打开n个窗口
16. `vim -O2`       垂直打开n个窗口 
17. `Ctrl + z(:stop :suspend)`      使用vim打开的文件进行挂起 输入fg恢复。  

### 二、Buffers、Windows、Tabs  

 创建一个.vimrc,添加配置`set hidden`（切换buffer且当前buffer没有保存，不会进行提示）

 #### 2.1 buffers
1. vim file1.js file2.js,实际创建了两个buffers，执行完该命令后展示的是file1.js的buffers 
   运行:buffers命令可以查看所有的buffers,或者使用 `:ls` OR `:files`命令查看。   
2. 切换到下一个buffer `:bnext` 、`:buffer fileName`、`buffer n  
3. 切换到下一个buffer的快捷键:`Ctrl + I`,切换到原来buffer的快捷键:`Ctrl + O`  
4. 一旦buffer创建成功，即进入了buffers列表，这个时候想在buffers列表中删除某一个buffer，直接`:bdelete n`即可 
5. 退出vim
  - 关闭所有buffer `:qall`  
  - 关闭所有buffer但是不保存 `qall!`  
  - 关闭所有buferr且保存 `wqall`

#### 2.2 Windows
1. vim file1.txt打开file1文件，有一个buffer，有一个窗口 
   此时在vim中使用`:split file2.txt` 会看到此刻有两个窗口，两个buffer，file2.txt的窗口在上  
   如果想垂直打开file2窗口  `:vsplit file2.txt`
   如果想垂直打开一个新命名文件的窗口  :`vsplit filename`
2. 如果要在窗口直接导航  
    `Ctrl+ W  H` 左移窗口
    `Ctrl+ W  L` 右移窗口
    `Ctrl+ W  J` 下移窗口
    `Ctrl+ W  K` 上移窗口
3. 继续输入 `:split file3.txt`,此时有三个窗口、三个buffer   
4. 如果想在显示file2.txt的窗口中显示file3.txt，只需要在当前buffer为2下输入`:buffer file3.txt`即可 
5. 要关闭当前窗口  `Ctrl+W C` 
6. 普通模式下关于窗口的命令： 
  `Ctrl + W V` 打开一个垂直分割的窗口
  `Ctrl + W S` 打开一个水平分割的窗口
  `Ctrl + W C` 关闭当前所在窗口 
  `Ctrl + W O` 除了当前窗口，关闭其它所有窗口
  
#### 2.3 Tabs 
1. vim tabs.md  这个时候打开一个新tab，使用命令 `:tabnew readme.md` 
2. 切换下一个tab，使用命令 `:tabnext` 
3. 关闭当前tab，使用命令`:tabclose` 
4. 切换上一个tab，使用命令`:tabprevious`
5. 切换至最后一个tab，使用命令`:tablast`  
6. 切换至第一个tab，使用命令`:tabfirst` 
7. 如果想让vim启动时就包含多个tabs，可以使用命令 `vim -p file1.txt file2.txt`

### 三、打开和搜索文件
#### 3.1 打开和编辑文件
- 要在vim中打开一个文件，直接使用命令 `:edit newFile` 
- edit接收通配符*，比如使用 `:edit *.md`然后按tab键，就会依次显示md文件，还可以是`*/*.js`这种格式 
- `:edit 路径URL`也可以直接打开一个文件

#### 3.2 使用find命令搜索文件
- 比如：我试了一下`:find readme.md`就直接跳转到那个文件了，但是这里只是找之前buffers中存在的
- 通过 find的命令会直接跳转到找到的那个文件，且在当前窗口打开

#### 3.3 find和Path的区别
- `:find`命令根据path选项配置的路径去找文件  
- `:edit`命令则不会。
在我们开始牛逼的使用`find`命令前，我们需要对`path`到底是什么进行一个学习

- `:set path?`这个命令，可以让我们看一下我们的path是什么，在当前这个文件(使用vim写)，输入此命令，显示内容为：`path=.,/usr/include,,`  

#### 3.4 使用grep命令在文件中搜索
待总结